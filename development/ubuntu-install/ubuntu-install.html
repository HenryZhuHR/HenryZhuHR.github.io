<!DOCTYPE html>
<html lang="en-US" dir="ltr">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Ubuntu 系统安装和初始化 | HenryZhu's xyz</title>
    <meta name="description" content="个人站点">
    <meta name="generator" content="VitePress v1.1.4">
    <link rel="preload stylesheet" href="/assets/style.SY3JrSsN.css" as="style">
    
    <script type="module" src="/assets/app.DmK4PzpR.js"></script>
    <link rel="preload" href="/assets/inter-roman-latin.Di8DUHzh.woff2" as="font" type="font/woff2" crossorigin="">
    <link rel="modulepreload" href="/assets/chunks/theme.DfDCnOCv.js">
    <link rel="modulepreload" href="/assets/chunks/framework.CKTzbFpk.js">
    <link rel="modulepreload" href="/assets/development_ubuntu-install_ubuntu-install.md.Df97Jlye.lean.js">
    <script id="check-dark-mode">(()=>{const e=localStorage.getItem("vitepress-theme-appearance")||"auto",a=window.matchMedia("(prefers-color-scheme: dark)").matches;(!e||e==="auto"?a:e==="dark")&&document.documentElement.classList.add("dark")})();</script>
    <script id="check-mac-os">document.documentElement.classList.toggle("mac",/Mac|iPhone|iPod|iPad/i.test(navigator.platform));</script>
  </head>
  <body>
    <div id="app"><div class="Layout" data-v-7b43a41c><!--[--><!--]--><!--[--><span tabindex="-1" data-v-be620d7c></span><a href="#VPContent" class="VPSkipLink visually-hidden" data-v-be620d7c> Skip to content </a><!--]--><!----><header class="VPNav" data-v-7b43a41c data-v-c3ac0fdc><div class="VPNavBar top" data-v-c3ac0fdc data-v-63b8a20a><div class="wrapper" data-v-63b8a20a><div class="container" data-v-63b8a20a><div class="title" data-v-63b8a20a><div class="VPNavBarTitle" data-v-63b8a20a data-v-38fc8681><a class="title" href="/" data-v-38fc8681><!--[--><!--]--><!----><span data-v-38fc8681>HenryZhu&#39;s xyz</span><!--[--><!--]--></a></div></div><div class="content" data-v-63b8a20a><div class="content-body" data-v-63b8a20a><!--[--><!--]--><div class="VPNavBarSearch search" data-v-63b8a20a><!----></div><nav aria-labelledby="main-nav-aria-label" class="VPNavBarMenu menu" data-v-63b8a20a data-v-1d8684da><span id="main-nav-aria-label" class="visually-hidden" data-v-1d8684da>Main Navigation</span><!--[--><!--]--></nav><!----><div class="VPNavBarAppearance appearance" data-v-63b8a20a data-v-7dd6cba0><button class="VPSwitch VPSwitchAppearance" type="button" role="switch" title="Switch to dark theme" aria-checked="false" data-v-7dd6cba0 data-v-57da1c3a data-v-03e1767f><span class="check" data-v-03e1767f><span class="icon" data-v-03e1767f><!--[--><span class="vpi-sun sun" data-v-57da1c3a></span><span class="vpi-moon moon" data-v-57da1c3a></span><!--]--></span></span></button></div><div class="VPSocialLinks VPNavBarSocialLinks social-links" data-v-63b8a20a data-v-9c1cb25f data-v-cc45c57e><!--[--><a class="VPSocialLink no-icon" href="https://github.com/HenryZhuHR" aria-label="github" target="_blank" rel="noopener" data-v-cc45c57e data-v-8645e238><span class="vpi-social-github" /></a><!--]--></div><div class="VPFlyout VPNavBarExtra extra" data-v-63b8a20a data-v-90a8da37 data-v-d6d37711><button type="button" class="button" aria-haspopup="true" aria-expanded="false" aria-label="extra navigation" data-v-d6d37711><span class="vpi-more-horizontal icon" data-v-d6d37711></span></button><div class="menu" data-v-d6d37711><div class="VPMenu" data-v-d6d37711 data-v-82c80141><!----><!--[--><!--[--><!----><div class="group" data-v-90a8da37><div class="item appearance" data-v-90a8da37><p class="label" data-v-90a8da37>Appearance</p><div class="appearance-action" data-v-90a8da37><button class="VPSwitch VPSwitchAppearance" type="button" role="switch" title="Switch to dark theme" aria-checked="false" data-v-90a8da37 data-v-57da1c3a data-v-03e1767f><span class="check" data-v-03e1767f><span class="icon" data-v-03e1767f><!--[--><span class="vpi-sun sun" data-v-57da1c3a></span><span class="vpi-moon moon" data-v-57da1c3a></span><!--]--></span></span></button></div></div></div><div class="group" data-v-90a8da37><div class="item social-links" data-v-90a8da37><div class="VPSocialLinks social-links-list" data-v-90a8da37 data-v-cc45c57e><!--[--><a class="VPSocialLink no-icon" href="https://github.com/HenryZhuHR" aria-label="github" target="_blank" rel="noopener" data-v-cc45c57e data-v-8645e238><span class="vpi-social-github" /></a><!--]--></div></div></div><!--]--><!--]--></div></div></div><!--[--><!--]--><button type="button" class="VPNavBarHamburger hamburger" aria-label="mobile navigation" aria-expanded="false" aria-controls="VPNavScreen" data-v-63b8a20a data-v-17e5c57d><span class="container" data-v-17e5c57d><span class="top" data-v-17e5c57d></span><span class="middle" data-v-17e5c57d></span><span class="bottom" data-v-17e5c57d></span></span></button></div></div></div></div><div class="divider" data-v-63b8a20a><div class="divider-line" data-v-63b8a20a></div></div></div><!----></header><div class="VPLocalNav empty fixed" data-v-7b43a41c data-v-55acbba4><div class="container" data-v-55acbba4><!----><div class="VPLocalNavOutlineDropdown" style="--vp-vh:0px;" data-v-55acbba4 data-v-b07b8402><button data-v-b07b8402>Return to top</button><!----></div></div></div><!----><div class="VPContent" id="VPContent" data-v-7b43a41c data-v-c65805a9><div class="VPDoc has-aside" data-v-c65805a9 data-v-6c3638c1><!--[--><!--]--><div class="container" data-v-6c3638c1><div class="aside" data-v-6c3638c1><div class="aside-curtain" data-v-6c3638c1></div><div class="aside-container" data-v-6c3638c1><div class="aside-content" data-v-6c3638c1><div class="VPDocAside" data-v-6c3638c1 data-v-c09287b1><!--[--><!--]--><!--[--><!--]--><nav aria-labelledby="doc-outline-aria-label" class="VPDocAsideOutline" role="navigation" data-v-c09287b1 data-v-6691e406><div class="content" data-v-6691e406><div class="outline-marker" data-v-6691e406></div><div aria-level="2" class="outline-title" id="doc-outline-aria-label" role="heading" data-v-6691e406>页面导航</div><ul class="VPDocOutlineItem root" data-v-6691e406 data-v-050dd0c6><!--[--><!--]--></ul></div></nav><!--[--><!--]--><div class="spacer" data-v-c09287b1></div><!--[--><!--]--><!----><!--[--><!--]--><!--[--><!--]--></div></div></div></div><div class="content" data-v-6c3638c1><div class="content-container" data-v-6c3638c1><!--[--><!--]--><main class="main" data-v-6c3638c1><div style="position:relative;" class="vp-doc _development_ubuntu-install_ubuntu-install external-link-icon-enabled" data-v-6c3638c1><div><h1 id="ubuntu-xi-tong-an-zhuang-he-chu-shi-hua" tabindex="-1">Ubuntu 系统安装和初始化 <a class="header-anchor" href="#ubuntu-xi-tong-an-zhuang-he-chu-shi-hua" aria-label="Permalink to &quot;Ubuntu 系统安装和初始化&quot;">​</a></h1><nav class="table-of-contents"><ul><li><a href="#xi-tong-an-zhuang">⛵️ 系统安装</a><ul><li><a href="#xi-tong-jia-zai-jing-xiang">系统加载镜像</a></li><li><a href="#ubuntu-2404-desktop-de-an-zhuang">Ubuntu 24.04 Desktop 的安装</a></li><li><a href="#ubuntu-2404-server-de-an-zhuang">Ubuntu 24.04 Server 的安装</a></li><li><a href="#ubuntu-2204-desktop-de-an-zhuang">Ubuntu 22.04 Desktop 的安装</a></li><li><a href="#shou-dong-fen-qu">手动分区</a></li></ul></li><li><a href="#chu-shi-hua-pei-zhi">🚀 初始化配置</a><ul><li><a href="#geng-huan-ruan-jian-yuan">更换软件源</a></li><li><a href="#geng-xin-ruan-jian-bao">更新软件包</a></li><li><a href="#an-zhuang-chang-yong-ruan-jian">安装常用软件</a></li><li><a href="#pei-zhi-ssh">配置 SSH</a></li></ul></li></ul></nav><h2 id="xi-tong-an-zhuang" tabindex="-1">⛵️ 系统安装 <a class="header-anchor" href="#xi-tong-an-zhuang" aria-label="Permalink to &quot;⛵️ 系统安装&quot;">​</a></h2><p>Ubuntu 各版本的 <a href="https://ubuntu.com/about/release-cycle" target="_blank" rel="noreferrer">发布周期</a> 如下</p><table><thead><tr><th>版本号 (代号)</th><th>发布</th><th>结束支持</th></tr></thead><tbody><tr><td><a href="https://releases.ubuntu.com/noble/" target="_blank" rel="noreferrer">24.04 LTS (Noble Numbat)</a></td><td>Apr 2024</td><td>Apr 2029</td></tr><tr><td>23.10 (Mantic Minotaur)</td><td>Oct 2023</td><td>Jul 2024</td></tr><tr><td><a href="https://releases.ubuntu.com/jammy/" target="_blank" rel="noreferrer">22.04.4 LTS (Jammy Jellyfish)</a></td><td>Apr 2022</td><td>Apr 2027</td></tr><tr><td><a href="https://releases.ubuntu.com/focal/" target="_blank" rel="noreferrer">20.04.6 LTS (Focal Fossa)</a></td><td>Apr 2020</td><td>Apr 2025</td></tr><tr><td><a href="https://releases.ubuntu.com/bionic/" target="_blank" rel="noreferrer">18.04.6 LTS (Bionic Beaver)</a></td><td>Apr 2018</td><td>Apr 2023</td></tr></tbody></table><div class="tip custom-block github-alert"><p class="custom-block-title">TIP</p><p>Ubuntu 各架构的下载链接:</p><ul><li><strong>AMD64</strong>: <a href="https://releases.ubuntu.com" target="_blank" rel="noreferrer"><em>These releases of Ubuntu are available</em></a></li><li><strong>ARM</strong>: ARM 架构除了树莓派之外的不提供桌面版下载，在 <a href="https://ubuntu.com/download/server/arm" target="_blank" rel="noreferrer"><em>Ubuntu Server for ARM</em></a> -&gt; <a href="https://cdimage.ubuntu.com/releases/" target="_blank" rel="noreferrer">Alternative and previous releases ›</a></li><li><strong>树莓派</strong>: <a href="https://ubuntu.com/download/raspberry-pi" target="_blank" rel="noreferrer"><em>Install Ubuntu on a Raspberry Pi</em></a> | <a href="https://cn.ubuntu.com/download/raspberry-pi" target="_blank" rel="noreferrer">在树莓派上安装Ubuntu</a></li><li><strong>RISC-V</strong>: <a href="https://ubuntu.com/download/risc-v" target="_blank" rel="noreferrer"><em>Download Ubuntu for RISC-V Platforms</em></a></li></ul></div><h3 id="xi-tong-jia-zai-jing-xiang" tabindex="-1">系统加载镜像 <a class="header-anchor" href="#xi-tong-jia-zai-jing-xiang" aria-label="Permalink to &quot;系统加载镜像&quot;">​</a></h3><p><img src="/assets/install-2404-step-0-boot.0A9d_cgZ.png" alt="install-2404-step-0-boot.png"></p><h3 id="ubuntu-2404-desktop-de-an-zhuang" tabindex="-1">Ubuntu 24.04 Desktop 的安装 <a class="header-anchor" href="#ubuntu-2404-desktop-de-an-zhuang" aria-label="Permalink to &quot;Ubuntu 24.04 Desktop 的安装&quot;">​</a></h3><p>「<strong>选择语言</strong>」</p><p><img src="/assets/install-2404-step-1-choose_language.CVD19i5v.png" alt="install-2404-step-1-choose_language.png"></p><p>「<strong>可访问性</strong>」设置可以跳过</p><p><img src="/assets/install-2404-step-2-accessibility.CRJzawA5.png" alt="install-2404-step-2-accessibility.png"></p><p>「<strong>键盘布局</strong>」选择默认</p><p><img src="/assets/install-2404-step-3-keyboard_layout.Db019NiP.png" alt="install-2404-step-3-keyboard_layout.png"></p><p>在最后安装过程中，可能会从原始软件源更新软件，如果网络不好，会导致安装过程极慢，因此建议在「<strong>连接到互联网</strong>」设置中，（建议）暂时不连接互联网，等安装完成进入系统后，（如果有必要）换源后再进行更新</p><p><img src="/assets/install-2404-setp-4-connect_network.D43GlvuY.png" alt="install-2404-setp-4-connect_network.png"></p><p>「<strong>安装类型</strong>」中，选择下「优化您的计算机」，「自动安装」应该是 Ubuntu24.04新加入的功能，可以通过配置文件自动安装</p><p><img src="/assets/install-2404-setp-5-install_type.BNK_l-WK.png" alt="install-2404-setp-5-install_type.png"></p><p>「<strong>应用程序和更新</strong>」选择默认集合进行最小安装，需要的软件可以在安装完成后手动安装需求的软件</p><p><img src="/assets/install-2404-setp-6-app.BYLyNIIg.png" alt="install-2404-setp-6-app.png"></p><p>「<strong>优化您的计算机</strong>」中勾选全部选项，</p><p><img src="/assets/install-2404-setp-7-optimize_computer.Cusj4run.png" alt="install-2404-setp-7-optimize_computer.png"></p><p>「<strong>安装类型</strong>」选择手动分区</p><p><img src="/assets/install-2404-setp-8-install_type.BImhHQ3R.png" alt="install-2404-setp-8-install_type.png"></p><p>接下来，是非常重要的分区设置</p><ol><li>查看可用的安装空间，选择剩余空间中，点击左下角的「➕」键，新建分区</li></ol><p><img src="/assets/install-2404-setp-9-manual_partition_1.VDMenHfN.png" alt="install-2404-setp-9-manual_partition_1.png"></p><ol start="2"><li>分区的选择，需要根据电脑的存储配置进行分配</li></ol><p>一般有这几种情况：</p><ul><li>只有一个硬盘，假定为「SSD」</li><li>有两个硬盘「 SSD+ HDD」，如果是「SSD+SSD」，那么选择读写较快的硬盘为「SSD」，另一个慢速硬盘假定为「HDD」</li><li>三个硬盘「 SSD+ HDD1+HDD2」，其中还是将最快速的硬盘作为「SSD」</li></ul><p>根据上述的情况假设，可以安装如下情况进行分区（仅供参考）：</p><table><thead><tr><th>分区</th><th>格式</th><th>分配盘</th><th>备注</th></tr></thead><tbody><tr><td><code>/boot</code></td><td><code>Ext4</code></td><td>SSD</td><td>内核及引导系统程序所需要的空间，一般预留 512/1024MB 即可</td></tr><tr><td><code>Swap</code></td><td>交换空间</td><td>SSD</td><td>根据需求配置，也可以不给。因为 swap 可以后续自己创建（创建在SSD上）</td></tr><tr><td><code>/</code></td><td><code>Ext4</code></td><td>SSD</td><td>剩余全部分配给根目录</td></tr><tr><td><code>/home</code></td><td><code>Ext4</code></td><td>HDD/HDD1</td><td>全部分配</td></tr><tr><td><code>/opt</code></td><td><code>Ext4</code></td><td>HDD2</td><td>全部分配，一般是第三方软件默认安装位置，也可以安装一些自己的软件</td></tr><tr><td><code>/opt/data</code></td><td><code>Ext4</code></td><td>HDD3</td><td>如果还有硬盘，一般就是用来存放训练数据集</td></tr></tbody></table><p><img src="/assets/install-2404-setp-9-manual_partition_2.CGJX8Qis.png" alt="install-2404-setp-9-manual_partition_2.png"></p><ol start="3"><li>完成分区后，Ubuntu 24.04会自动设置 <code>/boot</code> 引导分区，相比于前代更加方便了</li></ol><p><img src="/assets/install-2404-setp-9-manual_partition_3.YXcsnvDq.png" alt="install-2404-setp-9-manual_partition_3.png"></p><p>「<strong>设置您的账户</strong>」中，设置用户名</p><p><img src="/assets/install-2404-setp-10-setup_account.DwIA_1aO.png" alt="install-2404-setp-10-setup_account.png"></p><p>「<strong>选择时区</strong>」，默认即可</p><p><img src="/assets/install-2404-setp-11-time_zone.BQmix9hT.png" alt="install-2404-setp-11-time_zone.png"></p><p>「<strong>准备安装</strong>」确认安装类型，点击安装进入下一步</p><p><img src="/assets/install-2404-setp-12-ready_to_install.DauwpPg9.png" alt="install-2404-setp-12-ready_to_install.png"></p><p>「<strong>安装</strong>」比较久，建议断掉所有网络连接（有线），避免从互联网下载或更新软件，增加安装时间，安装或者更新软件都可以在安装完成后进行</p><p><img src="/assets/install-2404-setp-13-installing.BfsjZI_1.png" alt="install-2404-setp-13-installing.png"></p><p>「<strong>安装完成</strong>」，点击「立即启动」，按照提示「Please remove the installation medium, then press ENTER:」，移除安装介质，按下回车键重启</p><p><img src="/assets/install-2404-setp-14-finish.CkGRh25k.png" alt="install-2404-setp-14-finish.png"></p><h3 id="ubuntu-2404-server-de-an-zhuang" tabindex="-1">Ubuntu 24.04 Server 的安装 <a class="header-anchor" href="#ubuntu-2404-server-de-an-zhuang" aria-label="Permalink to &quot;Ubuntu 24.04 Server 的安装&quot;">​</a></h3><p>安装桌面</p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">sudo</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> apt</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> install</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -y</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> ubuntu-desktop-minimal</span></span></code></pre></div><p>安装locales</p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">sudo</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> apt</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> install</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -y</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> language-pack-zh-hans</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">sudo</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> update-locale</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> LANG=zh_CN.UTF-8</span></span></code></pre></div><p>重启 ，安装文字</p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">sudo</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> apt</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> install</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -y</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> ttf-wqy-microhei</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> ttf-wqy-zenhei</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> xfonts-intl-chinese</span></span></code></pre></div><h3 id="ubuntu-2204-desktop-de-an-zhuang" tabindex="-1">Ubuntu 22.04 Desktop 的安装 <a class="header-anchor" href="#ubuntu-2204-desktop-de-an-zhuang" aria-label="Permalink to &quot;Ubuntu 22.04 Desktop 的安装&quot;">​</a></h3><p>在系统加载镜像后，Ubuntu 22.04 会执行 <code>Checking disks</code>（检查完整性），然后进入安装流程</p><p>「<strong>选择语言</strong>」英文或者中文均可</p><p><img src="/assets/install-2204-step-1-choose_language.RYdKL1q-.png" alt="install-2204-step-1-choose_language.png"></p><p>「<strong>键盘布局</strong>」选择默认</p><p><img src="/assets/install-2204-step-2-keyboard_layout.B2n5mNn1.png" alt="install-2204-step-2-keyboard_layout.png"></p><p>「<strong>更新和其他软件</strong>」选择「最小安装」避免过多无用软件，取消勾选「安装Ubuntu时下载更新」加快安装，勾选☑️「为图形或无线。。。」确保驱动自动安装</p><p><img src="/assets/install-2204-step-3-updates_and_other_software.BODc-T4J.png" alt="install-2204-step-3-updates_and_other_software.png"></p><p>「<strong>安装类型</strong>」（推荐）选择「其他选项」确保清楚如何分区，参考 <a href="#手动分区">手动分区</a> 进行分区</p><p><img src="/assets/install-2204-step-4-install_partition.D_Gdh9VI.png" alt="install-2204-step-4-install_partition.png"></p><p>「<strong>手动分区</strong>」</p><p><img src="/assets/install-2204-step-4-install_partition_1.Ca7q1wDr.png" alt="install-2204-step-4-install_partition_1.png"></p><p>「<strong>手动分区</strong>」</p><p><img src="/assets/install-2204-step-4-install_partition_2.MtrLP8x9.png" alt="install-2204-step-4-install_partition_2.png"></p><p>「<strong>手动分区</strong>」</p><p><img src="/assets/install-2204-step-4-install_partition_3.CZp2iT2x.png" alt="install-2204-step-4-install_partition_3.png"></p><p>「<strong>手动分区</strong>」</p><p><img src="/assets/install-2204-step-4-install_partition_4.Db7j_yGm.png" alt="install-2204-step-4-install_partition_4.png"></p><p>「<strong>手动分区</strong>」</p><p><img src="/assets/install-2204-step-4-install_partition_5.BaCJCOKv.png" alt="install-2204-step-4-install_partition_5.png"></p><p>「<strong>手动分区</strong>」</p><p><img src="/assets/install-2204-step-4-install_partition_6.BH85Pd3m.png" alt="install-2204-step-4-install_partition_6.png"></p><p>「<strong>选择时区</strong>」选择默认</p><p><img src="/assets/install-2204-step-5-time_zone.C1cL6w6m.png" alt="install-2204-step-5-time_zone.png"></p><p>「<strong>设置您的账户</strong>」设置用户名</p><p><img src="/assets/install-2204-step-6-account.Df95Uisf.png" alt="install-2204-step-6-account.png"></p><p>「<strong>准备安装</strong>」确认安装类型，点击安装进入下一步</p><p><img src="/assets/install-2204-step-7-installing.CPCccXmT.png" alt="install-2204-step-7-installing.png"></p><h3 id="shou-dong-fen-qu" tabindex="-1">手动分区 <a class="header-anchor" href="#shou-dong-fen-qu" aria-label="Permalink to &quot;手动分区&quot;">​</a></h3><span id="手动分区"></span><h2 id="chu-shi-hua-pei-zhi" tabindex="-1">🚀 初始化配置 <a class="header-anchor" href="#chu-shi-hua-pei-zhi" aria-label="Permalink to &quot;🚀 初始化配置&quot;">​</a></h2><h3 id="geng-huan-ruan-jian-yuan" tabindex="-1">更换软件源 <a class="header-anchor" href="#geng-huan-ruan-jian-yuan" aria-label="Permalink to &quot;更换软件源&quot;">​</a></h3><div class="tip custom-block github-alert"><p class="custom-block-title">TIP</p><p>事实上，更换软件源不是必须的，如果能稳定地连接到原始默认的源，那么是没有必要换源的，可能会获取不到某些软件；但是，如果连接不稳定的情况，那么换源是有必要的。</p></div><p>在换源之前应该先测试一下原始源的连接情况，如果连接状况良好，不需要换源，可以跳转至步骤 <a href="#inner-link-geng-xin-ruan-jian-bao">“更新软件包”</a> 进行更新。</p><p>在更换软件源之前，需要先备份原始的软件源：</p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">sudo</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> cp</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> /etc/apt/sources.list</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> /etc/apt/sources.list.bak</span></span></code></pre></div><p>更换软件源应该按照对应源的手册进行操作：</p><table><thead><tr><th>ubuntu 软件源</th><th>软件源使用帮助</th><th>ports 源使用帮助</th></tr></thead><tbody><tr><td>清华大学开源软件镜像站(<a href="https://mirrors.tuna.tsinghua.edu.cn" target="_blank" rel="noreferrer">TUNA</a>)</td><td><a href="https://mirrors.tuna.tsinghua.edu.cn/help/ubuntu/" target="_blank" rel="noreferrer">x86, x86_64</a></td><td><a href="https://mirrors.tuna.tsinghua.edu.cn/help/ubuntu-ports/" target="_blank" rel="noreferrer">ARM(arm64, armhf)、PowerPC(ppc64el)、RISC-V(riscv64) 和 S390x 等</a></td></tr><tr><td>中国科学技术大学开源软件镜像(<a href="https://mirrors.ustc.edu.cn" target="_blank" rel="noreferrer">USTC</a>)</td><td><a href="https://mirrors.ustc.edu.cn/help/ubuntu.html" target="_blank" rel="noreferrer">AMD64(x86_64), Intel x86</a></td><td><a href="https://mirrors.ustc.edu.cn/help/ubuntu-ports.html" target="_blank" rel="noreferrer">arm64, armhf, PowerPC, ppc64el, s390x</a></td></tr><tr><td>上海交通大学 Linux 用户组 (<a href="https://mirrors.sjtug.sjtu.edu.cn" target="_blank" rel="noreferrer">SJTUG</a>)</td><td><a href="https://mirrors.sjtug.sjtu.edu.cn/docs/ubuntu" target="_blank" rel="noreferrer">ubuntu</a></td><td></td></tr></tbody></table><p>可以从上述软件源中选择一个并按照「使用帮助」进行换源，更换软件源完成后，按照 <a href="#inner-link-geng-xin-ruan-jian-bao">“更新软件包”</a> 步骤更新软件包。</p><h3 id="geng-xin-ruan-jian-bao" tabindex="-1">更新软件包 <a class="header-anchor" href="#geng-xin-ruan-jian-bao" aria-label="Permalink to &quot;更新软件包&quot;">​</a></h3><div id="inner-link-geng-xin-ruan-jian-bao"></div><p>从软件源获取最新的软件包列表</p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">sudo</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> apt</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> update</span></span></code></pre></div><p>更新（全部）已安装的软件包</p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">sudo</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> apt</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> upgrade</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -y</span></span></code></pre></div><h3 id="an-zhuang-chang-yong-ruan-jian" tabindex="-1">安装常用软件 <a class="header-anchor" href="#an-zhuang-chang-yong-ruan-jian" aria-label="Permalink to &quot;安装常用软件&quot;">​</a></h3><p>安装基本的软件</p><ul><li><code>net-tools</code>：网络工具，可以通过 <code>ifconfig</code> 查看网络信息</li><li><code>openssh-server</code>：SSH 服务端，安装后，可以通过 SSH 远程连接到该设备</li><li><code>git</code>：版本控制工具，获取项目</li><li><code>curl</code> 和 <code>wget</code>：网络工具，可以通过网络下载文件</li><li><code>vim</code> 和 <code>nano</code>：文本编辑器</li></ul><p>其中有一些软件已经默认安装了，安装命令如下：</p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">sudo</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> apt</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> install</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -y</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> \</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">    net-tools</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> openssh-server</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> git</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> curl</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> wget</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> vim</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> nano</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> \</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">    python3-dev</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> python3-pip</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> python3-venv</span></span></code></pre></div><h3 id="pei-zhi-ssh" tabindex="-1">配置 SSH <a class="header-anchor" href="#pei-zhi-ssh" aria-label="Permalink to &quot;配置 SSH&quot;">​</a></h3><p>使用 SSH 登陆远程服务器前，需要确保远程服务器安装并且开启了 SSH 服务，一般来说 Linux 服务器会默认安装 <code>openssh-server</code> ，而一些桌面版的 Linux 系统可能没有安装 SSH 服务，需要手动安装。对于 Ubuntu ，可以如下安装</p><div class="language-shell vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">sudo</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> apt</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> install</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> openssh-server</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -y</span></span></code></pre></div><p>在登陆的时候，会自动将「本地私钥」和「服务器公钥」进行匹配，如果匹配成功，则可以免密登录。这在使用 VSCode 远程开发的时候非常有用，可以免去每次输入密码的麻烦。 (关于 VScode 远程开发可以参考 <a href="https://code.visualstudio.com/docs/remote/ssh" target="_blank" rel="noreferrer"><em>&quot;Remote Development using SSH&quot;</em></a>)</p><p>使用 <code>ssh-copy-id</code> 命令可以将「本地公钥」传输协议到远程服务器并存储在「公钥认证」文件中，例如：</p><div class="language-shell vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">ssh-copy-id</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -i</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> &lt;</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">identity_fil</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">e</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&gt;</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> &lt;</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">use</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">r</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&gt;</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">@</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&lt;</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">hostnam</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">e</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&gt;</span></span></code></pre></div><ul><li><code>-i</code> 指定「本地公钥」的路径，例如 <code>-i ~/.ssh/id_rsa.pub</code></li><li><code>&lt;user&gt;@&lt;hostname&gt;</code> 远程服务器的用户名和主机名，例如 <code>ubuntu@192.168.1.1</code></li><li><code>-p</code> 如果远程服务器的 SSH 端口不是默认的 22 端口，可以通过 <code>-p &lt;port&gt;</code> 指定端口</li></ul><p>（对于 win 系统，没有 <code>ssh-copy-id</code> 命令，）也可以手动将「本地公钥」复制到远程服务器的 <code>~/.ssh/authorized_keys</code> 文件中 (如果不存在，需要手动创建) ，但是推荐使用 <code>ssh-copy-id</code> 命令（win 可以使用 git bash），因为该命令会自动创建文件，并自动设置权限</p><p>这里提供一个生成密钥并自动上传至服务器的脚本，高亮部分需要自行修改：</p><div class="vp-code-group vp-adaptive-theme"><div class="tabs"><input type="radio" name="group-pgYVs" id="tab-3yi4BML" checked="checked"><label for="tab-3yi4BML">.</label><input type="radio" name="group-pgYVs" id="tab-v4Msf4f"><label for="tab-v4Msf4f">ssh-keygen-auto.sh</label></div><div class="blocks"><div class="language-bash vp-adaptive-theme active"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">点击</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> `</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">ssh-keygen-auto.sh</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">`</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> 查看脚本内容并复制到本地执行</span></span></code></pre></div><div class="language-shell vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light github-dark has-highlighted vp-code"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># ========================================</span></span>
<span class="line highlighted"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">key_name</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;server&quot;</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">       # 生成的密钥名称</span></span>
<span class="line highlighted"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">username</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;ubuntu&quot;</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">       # 服务器用户名，如果仅生成密钥，此项可忽略</span></span>
<span class="line highlighted"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">server_ip</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;192.168.1.6&quot;</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"> # 服务器 IP</span></span>
<span class="line highlighted"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">port</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;22&quot;</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">               # 服务器端口，默认 22</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># ========================================</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 生成密钥文件路径，密钥名称为 id_rsa-&lt;key_name&gt; </span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">key_file</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">$HOME</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">/.ssh/id_rsa-${</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">key_name</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">}&quot;</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">mkdir</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -p</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> ~/.ssh</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 生成本地密钥</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">ssh-keygen</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -t</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> rsa</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -f</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> ${key_file} </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">-C</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;${</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">key_file</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">}&quot;</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -N</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;&quot;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 上传公钥 至 服务器</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">ssh-copy-id</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -i</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> ${key_file}</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">.pub</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -p</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> ${port} ${username}</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">@</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">${server_ip} </span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">echo</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;&quot;</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">echo</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot; SEE :${</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">key_file</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">}&quot;</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">echo</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;&quot;</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br></div></div></div></div></div></div></main><footer class="VPDocFooter" data-v-6c3638c1 data-v-c6a20dbd><!--[--><!--]--><div class="edit-info" data-v-c6a20dbd><!----><div class="last-updated" data-v-c6a20dbd><p class="VPLastUpdated" data-v-c6a20dbd data-v-235ddb51>最后更新于: <time datetime="2024-06-05T15:52:29.000Z" data-v-235ddb51></time></p></div></div><!----></footer><!--[--><!--]--></div></div></div><!--[--><!--]--></div></div><footer class="VPFooter" data-v-7b43a41c data-v-5a4f0e4d><div class="container" data-v-5a4f0e4d><p class="message" data-v-5a4f0e4d>Powered By <a href="https://vitepress.dev/">Vitepress</a></p><p class="copyright" data-v-5a4f0e4d>All rights reserved © 2024-2024 <a href="https://github.com/HenryZhuHR?tab=repositories">HenryZhuHR</a></p></div></footer><!--[--><!--]--></div></div>
    <script>window.__VP_HASH_MAP__=JSON.parse("{\"development_conda_conda.md\":\"yrkV88ky\",\"development_tool_ssh_login-to-the-remote-server.md\":\"CER7bk6i\",\"development_linux_basic_basic.md\":\"3bTvl6HL\",\"development_linux_basic_linux-basic.md\":\"DMhraefA\",\"development_linux_basic_linux-file_system.md\":\"BU36Lx1H\",\"development_linux_basic_实验1 linux.md\":\"DikAsFEs\",\"development_linux_basic_实验2 makefile实验.md\":\"B9Bqoauf\",\"development_linux_command_cp.md\":\"DYm2_g3H\",\"development_linux_frp_frp.md\":\"DApsKntg\",\"development_linux_linux-ubuntu.md\":\"C7izCz6B\",\"development_linux_linux.md\":\"Dh-oCP99\",\"development_linux_tmux_tmux.md\":\"B12ZtOpJ\",\"development_linux_vim_vim.md\":\"CS81mU06\",\"development_ubuntu-install_ubuntu-install.md\":\"Df97Jlye\",\"development_linux_ubuntu_ubuntu.md\":\"CZbFYLIW\",\"development_tool_nginx_nginx.md\":\"JriWbIV6\",\"hardware_raspberrypi_icm20602.md\":\"DPxPgPRF\",\"development_tool_ssh_ssh.md\":\"CfUGRMnI\",\"diary_wuhan23_sunset_wuhan23_sunset.md\":\"Bl3GVoF8\",\"fun_homeassistant_homeassistant.md\":\"CN1Bx54k\",\"gadgets_clash_clash.md\":\"BoDwcLZG\",\"gadgets_mac-about_mac-about.md\":\"D2hjcF0R\",\"gadgets_mac-gadgets_mac-gadgets.md\":\"DXuvrc69\",\"hardware_raspberrypi_openwrt.md\":\"UvLlrRp-\",\"development_vue_vue.md\":\"D2gi_zFl\",\"hardware_raspberrypi_raspberrypi.md\":\"BTSsQk-9\",\"index.md\":\"De6YurVZ\",\"machine_learning_object_detection_object_detection.md\":\"mcnu0PEW\",\"文档编写技巧.md\":\"qqcs-Rn7\",\"development_guide_guide.md\":\"7VN4LAcp\",\"development_tool_github_github.md\":\"CRiKNaBk\",\"hardware_nezha_nezha.md\":\"C-_-uWQl\",\"development_tool_git_command.md\":\"5254vU4e\",\"development_tool_git_git.md\":\"C1MJuEb1\",\"machine_learning_mlp_mlp.md\":\"DK-p5gVw\",\"machine_learning_diffusion_model_diffusion_model.md\":\"B8EYQXki\"}");window.__VP_SITE_DATA__=JSON.parse("{\"lang\":\"en-US\",\"dir\":\"ltr\",\"title\":\"HenryZhu's xyz\",\"description\":\"个人站点\",\"base\":\"/\",\"head\":[],\"router\":{\"prefetchLinks\":true},\"appearance\":true,\"themeConfig\":{\"nav\":[],\"socialLinks\":[{\"icon\":\"github\",\"link\":\"https://github.com/HenryZhuHR\"}],\"externalLinkIcon\":true,\"footer\":{\"message\":\"Powered By <a href=\\\"https://vitepress.dev/\\\">Vitepress</a>\",\"copyright\":\"All rights reserved © 2024-2024 <a href=\\\"https://github.com/HenryZhuHR?tab=repositories\\\">HenryZhuHR</a>\"},\"outline\":{\"label\":\"页面导航\"},\"lastUpdated\":{\"text\":\"最后更新于\",\"formatOptions\":{\"dateStyle\":\"short\",\"timeStyle\":\"medium\"}}},\"locales\":{},\"scrollOffset\":134,\"cleanUrls\":false}");</script>
    
  </body>
</html>