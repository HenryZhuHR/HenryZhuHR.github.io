import{_ as e,c as a,o as s,a2 as t}from"./chunks/framework.bdxXucLJ.js";const g=JSON.parse('{"title":"nezha","description":"","frontmatter":{"outline":"deep","tags":["硬件开发"]},"headers":[],"relativePath":"hardware/nezha/nezha.md","filePath":"hardware/nezha/nezha.md","lastUpdated":1715704845000}'),i={name:"hardware/nezha/nezha.md"},n=t(`<h1 id="nezha" tabindex="-1">nezha <a class="header-anchor" href="#nezha" aria-label="Permalink to &quot;nezha&quot;">​</a></h1><h2 id="overview" tabindex="-1">Overview <a class="header-anchor" href="#overview" aria-label="Permalink to &quot;Overview&quot;">​</a></h2><p><a href="https://www.aaeon.com/cn/p/up-nezha" target="_blank" rel="noreferrer">哪吒（Nezha）</a></p><table><thead><tr><th>硬件配置</th><th>说明</th></tr></thead><tbody><tr><td>处理器</td><td>Intel® Processor N97 (formerly Alder Lake-N)</td></tr><tr><td>图形</td><td>Intel® UHD Graphics Gen12 (Xe)</td></tr><tr><td>内存</td><td>8GB 双通道 LPDDR5</td></tr><tr><td>存储</td><td>64GB eMMC</td></tr><tr><td>I/O</td><td>HDMI 1.40/USB 3.2 Gen 2 STACK Connector</td></tr><tr><td>USB</td><td>USB 3.2 Gen 2 (Type-A) x 3 10-pin USB 2.0 x 2/UART x 1</td></tr><tr><td>安全</td><td>半载 TPM 2.0</td></tr><tr><td>OS</td><td>Linux: Ubuntu 22.04 LTS/Kernel 5.15</td></tr></tbody></table><h2 id="an-zhuang-xi-tong" tabindex="-1">安装系统 <a class="header-anchor" href="#an-zhuang-xi-tong" aria-label="Permalink to &quot;安装系统&quot;">​</a></h2><p>安装 Jammy 22.04 LTS</p><h2 id="qu-dong-an-zhuang" tabindex="-1">驱动安装 <a class="header-anchor" href="#qu-dong-an-zhuang" aria-label="Permalink to &quot;驱动安装&quot;">​</a></h2><h3 id="ss" tabindex="-1">ss <a class="header-anchor" href="#ss" aria-label="Permalink to &quot;ss&quot;">​</a></h3><p>由于默认的开发版使用的Ubuntu 18 的系统，但是系统存在一个显示器只有800*600 的Bug，为此我们需要烧录一个新系统进去。我们进入Ubuntu intel-iot系统的下载网址（<a href="https://ubuntu.com/download/iot/intel-iot%EF%BC%89%E7%84%B6%E5%90%8E%E4%B8%8B%E8%BD%BDIntel" target="_blank" rel="noreferrer">https://ubuntu.com/download/iot/intel-iot）然后下载Intel</a> Atom® X7000E Series Processors (former codename Alder Lake N) 即可，因为哪吒平台是Alder Lake N 架构，所以下载对应平台的镜像即可（实际上下载正常的桌面版本即可）。将下载后的镜像文件刻录到U盘，按照正常的Ubuntu 系统安装即可。</p><h3 id="wei-ubuntu-an-zhuang-intel-gpu-qu-dong" tabindex="-1">为 Ubuntu 安装 Intel GPU 驱动 <a class="header-anchor" href="#wei-ubuntu-an-zhuang-intel-gpu-qu-dong" aria-label="Permalink to &quot;为 Ubuntu 安装 Intel GPU 驱动&quot;">​</a></h3><p>安装默认的 Ubuntu 之后，不包含 Intel GPU 驱动，为了使用 OpenVINO™ GPU 插件，需要安装 Intel GPU 驱动，参考官方指南<a href="https://docs.openvino.ai/2024/get-started/configurations/configurations-intel-gpu.html" target="_blank" rel="noreferrer"><em>Configurations for Intel® Processor Graphics (GPU) with OpenVINO™</em></a>(2024 版本)进行安装</p><p>要使用 GPU 设备进行 OpenVINO 推理，必须安装 OpenCL 运行库。如果使用的是独立 GPU（例如Arc 770），还必须确保使用<a href="https://dgpu-docs.intel.com/driver/kernel-driver-types.html" target="_blank" rel="noreferrer">受支持的 Linux 内核</a>。</p><ul><li>对于 Arc GPU, 推荐内核版本为 kernel 6.2 或更高</li><li>对于 Max 和 Flex GPU, 或者内核版本为 kernel 6.2 或更高的 Arc，必须根据文档（<a href="https://dgpu-docs.intel.com/driver/installation.html" target="_blank" rel="noreferrer">Max/Flex</a> 或 <a href="https://dgpu-docs.intel.com/driver/client/overview.html" target="_blank" rel="noreferrer">Arc</a>）安装 <code>ntel-i915-dkms</code> 和 <code>xpu-smi</code> 内核模块</li></ul><p>首先安装 OpenCL ，需要安装<a href="https://github.com/intel/compute-runtime" target="_blank" rel="noreferrer">Intel(R) Graphics Compute Runtime for oneAPI Level Zero and OpenCL(TM) Driver</a>及其依赖：</p><ul><li><a href="https://github.com/intel/gmmlib" target="_blank" rel="noreferrer">Intel Graphics Memory Management Library</a></li><li><a href="https://github.com/intel/intel-graphics-compiler" target="_blank" rel="noreferrer">Intel® Graphics Compiler for OpenCL™</a></li><li><a href="https://github.com/KhronosGroup/OpenCL-ICD-Loader" target="_blank" rel="noreferrer">OpenCL ICD loader package</a></li></ul><h4 id="zai-ubuntu-202404-lts-an-zhuang-opencl-yun-xing-ku-ru-xia" tabindex="-1">在 Ubuntu 20/24.04 LTS 安装 OpenCL 运行库如下 <a class="header-anchor" href="#zai-ubuntu-202404-lts-an-zhuang-opencl-yun-xing-ku-ru-xia" aria-label="Permalink to &quot;在 Ubuntu 20/24.04 LTS 安装 OpenCL 运行库如下&quot;">​</a></h4><p>参考 <a href="https://github.com/intel/compute-runtime/releases/tag/24.13.29138.7" target="_blank" rel="noreferrer"><em>Installation procedure on Ubuntu 22.04</em> (tag/24.13.29138.7)</a> 安装 <code>ocl-icd-libopencl1 with the OpenCl ICD loader</code></p><p>创建一个目录，用于存放下载的文件</p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">mkdir</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -p</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> ~/neo</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">cd</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> ~/neo</span></span></code></pre></div><p>下载全部 <code>*.deb</code> 包</p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">wget</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> https://github.com/intel/intel-graphics-compiler/releases/download/igc-1.0.16510.2/intel-igc-core_1.0.16510.2_amd64.deb</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">wget</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> https://github.com/intel/intel-graphics-compiler/releases/download/igc-1.0.16510.2/intel-igc-opencl_1.0.16510.2_amd64.deb</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">wget</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> https://github.com/intel/compute-runtime/releases/download/24.13.29138.7/intel-level-zero-gpu-dbgsym_1.3.29138.7_amd64.ddeb</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">wget</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> https://github.com/intel/compute-runtime/releases/download/24.13.29138.7/intel-level-zero-gpu_1.3.29138.7_amd64.deb</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">wget</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> https://github.com/intel/compute-runtime/releases/download/24.13.29138.7/intel-opencl-icd-dbgsym_24.13.29138.7_amd64.ddeb</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">wget</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> https://github.com/intel/compute-runtime/releases/download/24.13.29138.7/intel-opencl-icd_24.13.29138.7_amd64.deb</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">wget</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> https://github.com/intel/compute-runtime/releases/download/24.13.29138.7/libigdgmm12_22.3.18_amd64.deb</span></span></code></pre></div><p>验证软件包的完整性</p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">wget</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> https://github.com/intel/compute-runtime/releases/download/24.13.29138.7/ww13.sum</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">sha256sum</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -c</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> ww13.sum</span></span></code></pre></div><p>系统级安装全部 <code>*.deb</code> 包</p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">sudo</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> dpkg</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -i</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> *</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">.deb</span></span></code></pre></div><p>如果安装问题，请安装所需的依赖项</p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">sudo</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> apt</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> install</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> ocl-icd-libopencl1</span></span></code></pre></div><p>也可能需要修复安装</p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">sudo</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> apt</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --fix-broken</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> install</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -y</span></span></code></pre></div><p>安装完成后重新安装全部包</p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">sudo</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> dpkg</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -i</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> *</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">.deb</span></span></code></pre></div>`,31),l=[n];function h(r,p,d,o,c,k){return s(),a("div",null,l)}const b=e(i,[["render",h]]);export{g as __pageData,b as default};
